
## cms/login (POST)
reqest from client
``` json
  {
    "username": "driver1@swift.com",
    "password": "hashpass1"
  }
```
responce 
``` json
{
  "status": "success",
  "message": "Login successful",
  "accessToken": "",
  "user": {
    "id": "1",
    "username": "driver1@swift.com",
    "name": "kasun"
  }
}
```
reqest to cms
``` xml 
<login>
    <email>driver1@swift.com</email>
    <password>hashpass1</password>
</login>
```
response from cms
``` xml
<?xml version="1.0"?>
<response>
    <status>success</status>
    <message>Login successful</message>
    <user>
        <id>1</id>
        <email>driver1@swift.com</email>
    </user>
    <sessionToken>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJkcml2ZXIxQHN3aWZ0LmNvbSIsImlhdCI6MTc1NzIzMDIwNCwiZXhwIjoxNzU3MjMzODA0fQ.u9sRnlih6k2BBsPy1rxQpQyM9K8Nt-WeYIITHuPiXaA</sessionToken>
</response>
```

## cms/orders (GET)

cms request
``` bash
curl -X GET http://localhost:3000/orders \
-H "Authorization: Bearer <YOUR_TOKEN_HERE>"
```
cms response
``` xml
<?xml version="1.0"?>
<response>
  <status>success</status>
  <orders>
    <order>
      <id>3</id>
      <product>Example Product</product>
      <quantity>2</quantity>
      <status>pending</status>
      <address>123 Street, City</address>
      <route_id>5</route_id>
      <created_at>2025-09-03T21:17:51.543955</created_at>
    </order>
    <order>
      <id>2</id>
      <product>Shoes</product>
      <quantity>2</quantity>
      <status>pending</status>
      <address>123 Main St</address>
      <route_id/>
      <created_at>2025-09-03T18:20:35.479132</created_at>
    </order>
    <order>
      <id>1</id>
      <product>Shoes</product>
      <quantity>2</quantity>
      <status>pending</status>
      <address>123 Main St</address>
      <route_id>2</route_id>
      <created_at>2025-09-03T18:13:31.65724</created_at>
    </order>
  </orders>
</response>  
```
client response

``` json 
{
  "response": {
    "status": "success",
    "orders": {
      "order": [
        {
          "id": 3,
          "product": "Example Product",
          "quantity": 2,
          "status": "pending",
          "address": "123 Street, City",
          "route_id": 5,
          "created_at": "2025-09-03T21:17:51.543955"
        },
        {
          "id": 2,
          "product": "Shoes",
          "quantity": 2,
          "status": "pending",
          "address": "123 Main St",
          "route_id": null,
          "created_at": "2025-09-03T18:20:35.479132"
        }
      ]
    }
  }
}

```
## new-order (POST)
client request
``` json
{
  "order": {
    "product": "monitor",
    "quantity": 4,
    "address": "123 Main St"
  }
}
// with bearer token in header
```
client response
``` json
{
  "response": {
    "status": "success",
    "message": "Order placed successfully",
    "order": {
      "id": 7,
      "client_id": 2,
      "product": "monitor",
      "quantity": 4,
      "status": "pending",
      "address": "123 Main St",
      "route_id": null,
      "created_at": "2025-09-07T14:52:02.880648"
    }
  }
}
```
CMS requset
``` xml
curl -X POST http://localhost:3000/orders/createOrder \
  -H "Content-Type: application/xml" \
  -H "Authorization: Bearer token" \
  -d '
  <order>
  <product>blue berry</product>
  <quantity>2</quantity>
  <address>123 Main Street, Colombo</address>
  <route_id>1</route_id>
  <coordinates>
    <lat>6.9271</lat>
    <lng>79.8612</lng>
  </coordinates>
</order>'
<!-- with bearer token  -->
```
CMS response
``` xml
<?xml version="1.0"?>
<response>
  <status>success</status>
  <message>Order placed successfully</message>
  <order>
    <id>17</id>
    <client_id>1</client_id>
    <product>blue berry</product>
    <quantity>2</quantity>
    <status>pending</status>
    <address>123 Main Street, Colombo</address>
    <coordinate/>
    <route_id>1</route_id>
    <created_at>2025-09-10T19:33:37.929696</created_at>
  </order>
</response> 
```
## ROS
<!-- route optimizaion -->
<!-- end point for optimize route -->
``` bash
curl -X POST http://localhost:8000/api/v1/routes/optimize-coordinates \
  -H "Content-Type: application/json" \
  -d '{
    "response": {
      "status": "success",
      "orders": {
        "order": [
          {
            "order_id": 1,
            "address": "123 Main Street, Colombo 01",
            "coordinate": {
              "lat": 6.9271,
              "lng": 79.8612
            }
          },
          {
            "order_id": 3,
            "address": "789 Kandy Road, Kadawatha",
            "coordinate": {
              "lat": 7.0078,
              "lng": 79.9553
            }
          },
          {
            "order_id": 5,
            "address": "654 High Level Road, Nugegoda",
            "coordinate": {
              "lat": 6.8649,
              "lng": 79.8997
            }
          },
          {
            "order_id": 2,
            "address": "456 Galle Road, Mount Lavinia",
            "coordinate": {
              "lat": 6.8389,
              "lng": 79.8653
            }
          },
          {
            "order_id": 4,
            "address": "321 Negombo Road, Ja-Ela",
            "coordinate": {
              "lat": 7.0744,
              "lng": 79.8947
            }
          }
        ]
      }
    }
  }'
  ```

  <!-- reqest -->
``` json
curl -X POST http://localhost:8000/api/v1/routes/optimize-coordinates \
  -H "Content-Type: application/json" \
  -d '{
    "response": {
      "status": "success",
      "orders": {
        "order": [
          {
            "order_id": 1,
            "address": "123 Main Street, Colombo 01",
            "coordinate": {
              "lat": 6.9271,
              "lng": 79.8612
            }
          },
          {
            "order_id": 2,
            "address": "456 Galle Road, Mount Lavinia",
            "coordinate": {
              "lat": 6.8389,
              "lng": 79.8653
            }
          },
          {
            "order_id": 3,
            "address": "789 Kandy Road, Kadawatha",
            "coordinate": {
              "lat": 7.0078,
              "lng": 79.9553
            }
          },
          {
            "order_id": 4,
            "address": "321 Negombo Road, Ja-Ela",
            "coordinate": {
              "lat": 7.0744,
              "lng": 79.8947
            }
          },
          {
            "order_id": 5,
            "address": "654 High Level Road, Nugegoda",
            "coordinate": {
              "lat": 6.8649,
              "lng": 79.8997
            }
          }
        ]
      }
    }
  }'
  ```

  